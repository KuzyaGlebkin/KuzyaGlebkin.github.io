import{_ as a,c as i,o as e,ag as t}from"./chunks/framework.BDwTZuFy.js";const c=JSON.parse('{"title":"","description":"","frontmatter":{},"headers":[],"relativePath":"docs/stead3-ru/Диалоги/Методы.md","filePath":"docs/stead3-ru/Диалоги/Методы.md"}'),p={name:"docs/stead3-ru/Диалоги/Методы.md"};function l(n,s,h,d,o,r){return e(),i("div",null,s[0]||(s[0]=[t(`<h3 id="методы" tabindex="-1">Методы <a class="header-anchor" href="#методы" aria-label="Permalink to &quot;Методы&quot;">​</a></h3><p>Как вы уже знаете, объекты в INSTEAD могут находиться в состоянии открыт/закрыт и выключен/включён. Как это соответствует фразам диалога?</p><p>Для обычных фраз, после активации выбора фраза <em>закрывается</em>. При повторном входе в диалог все фразы <em>открываются</em>.</p><p>Для фраз с always = true (или true в начале определения) -- такого закрытия не происходит.</p><p>Для фраз с hidden = true (или false в начале определения) -- фраза будет создана как выключенная. Она не будет видима до тех пор, пока не будет явно включена.</p><p>Для фраз с cond(), каждый раз при просмотре фраз вызывается этот метод, и в зависимости от возвращаемого значения (true/не true) фраза включается или выключается.</p><p>Зная это поведение, вы можете прятать/показывать и анализировать фразы обычными функциями вида: disable / enable / empty / open / close / closed / disabled и так далее...</p><p>Однако, делать вы это можете только в самом диалоге, так как все фразы идентифицируются по тегам. Если вы хотите модифицировать состояние/анализировать фразы из других комнат вы можете:</p><ul><li>дать фразе имя { nam = &#39;имя&#39; }...</li><li>искать фразу по тегу в другой комнате: local ph = lookup(&#39;#тег&#39;, &#39;диалог&#39;) и потом работать с ней;</li></ul><p>Что касается функций push/pop, то вы можете вызывать их явно как методы диалога, например:</p><div class="language-lua vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">lua</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">	_</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;диалог&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">push</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;#новая&#39;</span></span></code></pre></div><p>Но лучше это делать в самом диалоге, например, в enter.</p><p>Кроме того, есть метод :reset, который сбрасывает стек переходов и устанавливает стартовую фразу, например:</p><div class="language-lua vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">lua</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">enter</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> function</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(s)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">	s</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">reset</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;#начало&#39;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">end</span></span></code></pre></div><blockquote><p>Следует отметить, что когда вы делаете enable/disable/open/close фразы, то вы выполняете действие именно над этой фразой, а не над фразами включёнными внутрь. Но так как при показе фраз движок остановится на выключенном/закрытом объекте-фразе и не войдёт внутрь, этого достаточно.</p></blockquote>`,15)]))}const u=a(p,[["render",l]]);export{c as __pageData,u as default};
