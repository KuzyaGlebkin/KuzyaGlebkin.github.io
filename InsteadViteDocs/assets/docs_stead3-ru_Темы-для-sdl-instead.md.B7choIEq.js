import{_ as s,c as l,o as a,ag as n}from"./chunks/framework.BDwTZuFy.js";const g=JSON.parse('{"title":"","description":"","frontmatter":{},"headers":[],"relativePath":"docs/stead3-ru/Темы-для-sdl-instead.md","filePath":"docs/stead3-ru/Темы-для-sdl-instead.md"}'),e={name:"docs/stead3-ru/Темы-для-sdl-instead.md"};function t(p,i,h,d,k,r){return a(),l("div",null,i[0]||(i[0]=[n(`<h2 id="темы-для-sdl-instead" tabindex="-1">Темы для sdl-instead <a class="header-anchor" href="#темы-для-sdl-instead" aria-label="Permalink to &quot;Темы для sdl-instead&quot;">​</a></h2><p>Графический интерпретатор поддерживает механизм тем. <em>Тема</em> представляет из себя каталог, с файлом &#39;theme.ini&#39; внутри.</p><p>Тема, которая является минимально необходимой -- это тема &#39;default&#39;. Эта тема всегда загружается первой. Все остальные темы наследуются от неё и могут частично или полностью заменять её параметры. Выбор темы осуществляется пользователем через меню настроек, однако конкретная игра может содержать собственную тему и таким образом влиять на свой внешний вид. В этом случае в каталоге с игрой должен находиться свой файл &#39;theme.ini&#39;. Тем не менее, пользователь свободен отключить данный механизм, при этом интерпретатор будет предупреждать о нарушении творческого замысла автора игры.</p><p>Синтаксис &#39;theme.ini&#39; очень прост.</p><pre><code>&lt;параметр&gt; = &lt;значение&gt;
</code></pre><p>или</p><pre><code>; комментарий
</code></pre><p>Значения могут быть следующих типов: строка, цвет, число.</p><p>Цвет задаётся в форме #rgb, где r g и b компоненты цвета в шестнадцатеричном виде. Кроме того, некоторые основные цвета распознаются по своим именам. Например: yellowgreen, или violet.</p><p>Параметры могут принимать значения:</p><ul><li>scr.w = ширина игрового пространства в пикселях (число)</li><li>scr.h = высота игрового пространства в пикселях (число)</li><li>scr.col.bg = цвет фона</li><li>scr.col.brd = цвет бордюра, если он есть (по умолчанию чёрный)</li><li>scr.gfx.scalable = [0|1|2] (0 - не масштабируемая тема, 1 - масштабируемая, 2 - масштабируемая без сглаживания), начиная с версии 2.2.0 доступны дополнительно [4|5|6]: 4 - полностью не масштабируемая (с не масштабируемыми шрифтами), 5 - масштабируемая, с не масштабируемыми шрифтами, 6 - масштабируемая без сглаживания, с не масштабируемыми шрифтами</li><li>scr.scale_aware = [0|1|2] (поддержка адаптивных тем: 0 - виртуальное разрешение, 1 - виртуальное разрешение с реальными пропорциями, 2 - реальное разрешение)</li><li>scr.dpi = [dpi|dpi1-dpi2] (задать DPI для которого создана тема, по умолчанию 96)</li><li>scr.gfx.scale = масштаб (задать масштабирование графики, 1.0 по умолчанию)</li><li>scr.gfx.bg = путь к картинке фонового изображения (строка)</li><li>scr.gfx.cursor.x = x координата центра курсора (число)</li><li>scr.gfx.cursor.y = y координата центра курсора (число)</li><li>scr.gfx.cursor.normal = путь к картинке-курсору (строка)</li><li>scr.gfx.cursor.use = путь к картинке-курсору режима использования (строка)</li><li>scr.gfx.use = путь к картинке-индикатору режима использования (строка)</li><li>scr.gfx.pad = размер отступов к скролл-барам и краям меню (число)</li><li>scr.gfx.x, scr.gfx.y, scr.gfx.w, scr.gfx.h = координаты, ширина и высота окна изображений. Области, в которой располагается картинка сцены. Интерпретация зависит от режима расположения (числа)</li><li>win.gfx.h - синоним scr.gfx.h (для совместимости)</li><li>scr.gfx.icon = пусть к файлу-иконке игры (ОС зависимая опция, может работать некорректно в некоторых случаях)</li><li>scr.gfx.mode = режим расположения (строка fixed, embedded или float). Задаёт режим изображения. embedded -- картинка является частью содержимого главного окна, параметры scr.gfx.x, scr.gfx.y, scr.gfx.w игнорируются. float -- картинка расположена по указанным координатам (scr.gfx.x, scr.gfx.y) и масштабируется к размеру scr.gfx.w x scr.gfx.h если превышает его. fixed -- картинка является частью сцены как в режиме embedded, но не скроллируется вместе с текстом, а расположена непосредственно над ним. Доступны модификации режима float с модификаторами &#39;left/right/center/middle/bottom/top&#39;, указывающими как именно размещать картинку в области scr.gfx. Например: float-top-left;</li><li>win.scroll.mode = [0|1|2|3] режим прокрутки области сцены. 0 - нет автоматической прокрутки, 1 - прокрутка на изменение в тексте, 2 прокрутка на изменение, только если изменение не видно, 3 - всегда в конец;</li><li>win.x, win.y, win.w, win.h = координаты, ширина и высота главного окна. Области, в которой располагается описание сцены (числа)</li><li>win.fnt.name = путь к файлу-шрифту (строка). Здесь и далее, шрифт может содержать описание всех начертаний, например: {sans,sans-b,sans-i,sans-bi}.ttf (заданы начертания для regular, bold, italic и bold-italic). Вы можете опускать какие-то начертания, и движок сам сгенерирует их на основе обычного начертания, например: {sans,,sans-i}.ttf (заданы только regular и italic);</li><li>win.align = center/left/right/justify (выравнивание текста в окне сцены);</li><li>win.fnt.size = размер шрифта главного окна (размер)</li><li>win.fnt.height = междустрочный интервал как число с плавающей запятой (1.0 по умолчанию)</li><li>win.gfx.up, win.gfx.down = пути к файлам-изображениям скроллеров вверх/вниз для главного окна (строка)</li><li>win.up.x, win.up.y, win.down.x, win.down.y = координаты скроллеров (координата или -1)</li><li>win.col.fg = цвет текста главного окна (цвет)</li><li>win.col.link = цвет ссылок главного окна (цвет)</li><li>win.col.alink = цвет активных ссылок главного окна (цвет)</li><li>win.ways.mode = top/bottom (задать расположение списка переходов, по умолчанию top -- сверху сцены)</li><li>inv.x, inv.y, inv.w, inv.h = координаты, высота и ширина области инвентаря. (числа)</li><li>inv.mode = строка режима инвентаря (horizontal или vertical). В горизонтальном режиме инвентаря в одной строке могут быть несколько предметов. В вертикальном режиме, в каждой строке инвентаря содержится только один предмет. Существуют модификации (-left/right/center). Вы можете задать режим disabled если в вашей игре не нужен инвентарь;</li><li>inv.col.fg = цвет текста инвентаря (цвет)</li><li>inv.col.link = цвет ссылок инвентаря (цвет)</li><li>inv.col.alink = цвет активных ссылок инвентаря (цвет)</li><li>inv.fnt.name = путь к файлу-шрифту инвентаря (строка)</li><li>inv.fnt.size = размер шрифта инвентаря (размер)</li><li>inv.fnt.height = междустрочный интервал как число с плавающей запятой (1.0 по умолчанию)</li><li>inv.gfx.up, inv.gfx.down = пути к файлам-изображениям скроллеров вверх/вниз для инвентаря (строка)</li><li>inv.up.x, inv.up.y, inv.down.x, inv.down.y = координаты скроллеров (координата или -1)</li><li>menu.col.bg = фон меню (цвет)</li><li>menu.col.fg = цвет текста меню (цвет)</li><li>menu.col.link = цвет ссылок меню (цвет)</li><li>menu.col.alink = цвет активных ссылок меню (цвет)</li><li>menu.col.alpha = прозрачность меню 0-255 (число)</li><li>menu.col.border = цвет бордюра меню (цвет)</li><li>menu.bw = толщина бордюра меню (число)</li><li>menu.fnt.name = путь к файлу-шрифту меню (строка)</li><li>menu.fnt.size = размер шрифта меню (размер)</li><li>menu.fnt.height = междустрочный интервал как число с плавающей запятой (1.0 по умолчанию)</li><li>menu.gfx.button = путь к файлу изображению значка меню (строка)</li><li>menu.button.x, menu.button.y = координаты кнопки меню (числа)</li><li>snd.click = путь к звуковому файлу щелчка (строка)</li><li>include = имя темы (последний компонент в пути каталога) (строка)</li></ul><p>Кроме того, заголовок темы может включать в себя комментарии с тегами. На данный момент существует только один тег: $Name:, содержащий UTF-8 строку с именем темы. Например:</p><div class="language-lua vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">lua</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; $</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:Новая тема$</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; модификация темы book</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">include </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> book ; </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">-- использовать тему Книга</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">scr.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">gfx</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">h</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 500</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ; </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">-- заменить в ней один параметр</span></span></code></pre></div><blockquote><p>Интерпретатор выполняет поиск тем в каталоге themes. Unix-версия, кроме этого каталога, просматривает также каталог ~/.instead/themes/. Windows-версия: %LOCALAPPDATA%\\instead\\themes (ниже Vista: Documents and Settings\\USER\\Local Settings\\Application Data\\instead\\themes).</p></blockquote><p>Кроме этого, новые версии INSTEAD поддерживают механизм множественных тем в одной игре. Давая возможность игроку через стандартное меню INSTEAD выбрать подходящее оформление, из предусмотренных автором игры. Для этого, все темы должны располагаться в игре в подкаталоге themes. В свою очередь, каждая тема -- это подкаталог в каталоге themes. В каждом таком подкаталоге должен находится свой файл theme.ini и ресурсы темы (картинки, шрифты, звуки). При этом обязательно наличие темы-каталога themes/default - эта тема будет загружена по умолчанию. Формат файлов theme.ini мы только что рассмотрели. Однако, пути к файлам с ресурсами в theme.ini пишутся не относительно корневого каталога игры, а относительно текущего каталога темы. Это означает, что обычно они содержат только имя самого файла, без пути к каталогу. Например:</p><div class="language-lua vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">lua</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">mygame</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">/</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  themes</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">/</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    default</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">/</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      theme.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ini</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      bg.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">png</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    widescreen</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">/</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      theme.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ini</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  main3.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">lua</span></span></code></pre></div><p>theme.ini</p><div class="language-lua vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">lua</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">scr.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">gfx</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">bg</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> bg.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">png</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">...</span></span></code></pre></div><p>При этом, все игровые темы наследуются от темы themes/default. Поддерживается механизм include. При этом, INSTEAD сначала пытается найти одноименную тему игры, и если такой темы не находится, будет загружена тема из стандартных тем INSTEAD (если она существует). Далее, в theme.ini можно изменять только те параметры, которые требуют изменения.</p>`,19)]))}const o=s(e,[["render",t]]);export{g as __pageData,o as default};
